<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QRM Pro - Quran Recognition App</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .mobile-frame {
            width: 375px;
            height: 812px;
            background: #1a1a1a;
            border-radius: 40px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.75);
            margin: 20px auto;
        }
        .screen {
            width: 100%;
            height: calc(100% - 40px);
            background: white;
            position: absolute;
            top: 20px;
            border-radius: 30px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 30px;
            background: #1a1a1a;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            z-index: 10;
        }
        .status-bar {
            height: 30px;
            display: flex;
            justify-content: space-between;
            padding: 0 15px;
            align-items: center;
            background: white;
            z-index: 5;
        }
        .nav-buttons {
            height: 40px;
            display: flex;
            justify-content: center;
            gap: 25px;
            align-items: center;
            position: absolute;
            bottom: 10px;
            width: 100%;
        }
        .nav-button {
            width: 30px;
            height: 5px;
            background: #ddd;
            border-radius: 10px;
        }
        .app-content {
            flex: 1;
            overflow-y: auto;
            padding: 5px;
        }
        .font-arabic {
            font-family: 'Amiri', serif;
            font-size: 2rem;
            line-height: 2;
            direction: rtl;
        }
        .font-arabic-title {
            font-family: 'Scheherazade New', serif;
            font-size: 3rem;
        }
        .welcome-screen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            padding: 20px;
        }
        .animate-pulse { animation: pulse 2s infinite; }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .gradient-green { background: linear-gradient(135deg, #059669 0%, #047857 100%); }
        .gradient-gold { background: linear-gradient(135deg, #D4AF37 0%, #B8860B 100%); }
    </style>
</head>
<body class="bg-gray-100 flex justify-center py-10">
    <div>
        <h1 class="text-2xl font-bold text-center mb-6 text-emerald-800">QRM Pro Mobile Preview</h1>
        <div class="mobile-frame">
            <div class="notch"></div>
            <div class="screen">
                <div class="status-bar">
                    <span class="text-xs font-bold">9:41</span>
                    <div class="flex gap-2">
                        <span>üì∂</span>
                        <span>_WIFI_</span>
                        <span>üîã</span>
                    </div>
                </div>
                <div class="app-content" id="app-root">
                    <!-- App content will be rendered here by React -->
                </div>
                <div class="nav-buttons">
                    <div class="nav-button"></div>
                    <div class="nav-button"></div>
                    <div class="nav-button"></div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // === FIXED: Correct Juz Data ===
        const JUZ_DATA = [
            { juz: 1, name: "Alif Lam Meem", start: {surah: 1, verse: 1}, end: {surah: 2, verse: 141} },
            { juz: 2, name: "Sayaqool", start: {surah: 2, verse: 142}, end: {surah: 2, verse: 252} },
            { juz: 3, name: "Tilkal Rusul", start: {surah: 2, verse: 253}, end: {surah: 3, verse: 92} },
            { juz: 4, name: "Lan Tana Loo", start: {surah: 3, verse: 93}, end: {surah: 4, verse: 23} },
            { juz: 5, name: "Wal Mohsanat", start: {surah: 4, verse: 24}, end: {surah: 4, verse: 147} },
            { juz: 6, name: "La Yuhibbullah", start: {surah: 4, verse: 148}, end: {surah: 5, verse: 81} },
            { juz: 7, name: "Wa Iza Samiu", start: {surah: 5, verse: 82}, end: {surah: 6, verse: 110} },
            { juz: 8, name: "Wa Lau Annana", start: {surah: 6, verse: 111}, end: {surah: 7, verse: 87} },
            { juz: 9, name: "Qalal Malao", start: {surah: 7, verse: 88}, end: {surah: 8, verse: 40} },
            { juz: 10, name: "Wa A'lamu", start: {surah: 8, verse: 41}, end: {surah: 9, verse: 92} },
            { juz: 11, name: "Yatazeroon", start: {surah: 9, verse: 93}, end: {surah: 11, verse: 5} },
            { juz: 12, name: "Wa Mamin Da'abat", start: {surah: 11, verse: 6}, end: {surah: 12, verse: 52} },
            { juz: 13, name: "Wa Ma Ubrioo", start: {surah: 12, verse: 53}, end: {surah: 14, verse: 52} },
            { juz: 14, name: "Rubama", start: {surah: 15, verse: 1}, end: {surah: 16, verse: 128} },
            { juz: 15, name: "Subhanallazi", start: {surah: 17, verse: 1}, end: {surah: 18, verse: 74} },
            { juz: 16, name: "Qal Alam", start: {surah: 18, verse: 75}, end: {surah: 20, verse: 135} },
            { juz: 17, name: "Aqtarabo", start: {surah: 21, verse: 1}, end: {surah: 22, verse: 78} },
            { juz: 18, name: "Qadd Aflaha", start: {surah: 23, verse: 1}, end: {surah: 25, verse: 20} },
            { juz: 19, name: "Wa Qalallazina", start: {surah: 25, verse: 21}, end: {surah: 27, verse: 55} },
            { juz: 20, name: "A'man Khalaq", start: {surah: 27, verse: 56}, end: {surah: 29, verse: 45} },
            { juz: 21, name: "Utlu Ma Oohi", start: {surah: 29, verse: 46}, end: {surah: 33, verse: 30} },
            { juz: 22, name: "Wa Manyaqnut", start: {surah: 33, verse: 31}, end: {surah: 36, verse: 27} },
            { juz: 23, name: "Wa Mali", start: {surah: 36, verse: 28}, end: {surah: 39, verse: 31} },
            { juz: 24, name: "Faman Azlam", start: {surah: 39, verse: 32}, end: {surah: 41, verse: 46} },
            { juz: 25, name: "Elahe Yuruddo", start: {surah: 41, verse: 47}, end: {surah: 45, verse: 37} },
            { juz: 26, name: "Ha'a Meem", start: {surah: 46, verse: 1}, end: {surah: 51, verse: 30} },
            { juz: 27, name: "Qala Fama Khatbukum", start: {surah: 51, verse: 31}, end: {surah: 57, verse: 29} },
            { juz: 28, name: "Qadd Sami Allah", start: {surah: 58, verse: 1}, end: {surah: 66, verse: 12} },
            { juz: 29, name: "Tabarakallazi", start: {surah: 67, verse: 1}, end: {surah: 77, verse: 50} },
            { juz: 30, name: "Amma Yatasa'aloon", start: {surah: 78, verse: 1}, end: {surah: 114, verse: 6} }
        ];

        // === FIXED: Complete Surah Data ===
        const ALL_SURAHS = [
            { id: 1, name: "Al-Fatihah", verses: 7, arabic: "ÿßŸÑŸÅÿßÿ™ÿ≠ÿ©", rukus: 1, revelation: "Meccan" },
            { id: 2, name: "Al-Baqarah", verses: 286, arabic: "ÿßŸÑÿ®ŸÇÿ±ÿ©", rukus: 40, revelation: "Medinan" },
            { id: 3, name: "Ali 'Imran", verses: 200, arabic: "ÿ¢ŸÑ ÿπŸÖÿ±ÿßŸÜ", rukus: 20, revelation: "Medinan" },
            { id: 4, name: "An-Nisa", verses: 176, arabic: "ÿßŸÑŸÜÿ≥ÿßÿ°", rukus: 24, revelation: "Medinan" },
            { id: 5, name: "Al-Ma'idah", verses: 120, arabic: "ÿßŸÑŸÖÿßÿ¶ÿØÿ©", rukus: 16, revelation: "Medinan" },
            { id: 6, name: "Al-An'am", verses: 165, arabic: "ÿßŸÑÿ£ŸÜÿπÿßŸÖ", rukus: 20, revelation: "Meccan" },
            { id: 7, name: "Al-A'raf", verses: 206, arabic: "ÿßŸÑÿ£ÿπÿ±ÿßŸÅ", rukus: 24, revelation: "Meccan" },
            { id: 8, name: "Al-Anfal", verses: 75, arabic: "ÿßŸÑÿ£ŸÜŸÅÿßŸÑ", rukus: 10, revelation: "Medinan" },
            { id: 9, name: "At-Tawbah", verses: 129, arabic: "ÿßŸÑÿ™Ÿàÿ®ÿ©", rukus: 16, revelation: "Medinan" },
            { id: 10, name: "Yunus", verses: 109, arabic: "ŸäŸàŸÜÿ≥", rukus: 11, revelation: "Meccan" },
            { id: 11, name: "Hud", verses: 123, arabic: "ŸáŸàÿØ", rukus: 10, revelation: "Meccan" },
            { id: 12, name: "Yusuf", verses: 111, arabic: "ŸäŸàÿ≥ŸÅ", rukus: 12, revelation: "Meccan" },
            { id: 13, name: "Ar-Ra'd", verses: 43, arabic: "ÿßŸÑÿ±ÿπÿØ", rukus: 6, revelation: "Medinan" },
            { id: 14, name: "Ibrahim", verses: 52, arabic: "ÿ•ÿ®ÿ±ÿßŸáŸäŸÖ", rukus: 7, revelation: "Meccan" },
            { id: 15, name: "Al-Hijr", verses: 99, arabic: "ÿßŸÑÿ≠ÿ¨ÿ±", rukus: 6, revelation: "Meccan" },
            { id: 16, name: "An-Nahl", verses: 128, arabic: "ÿßŸÑŸÜÿ≠ŸÑ", rukus: 16, revelation: "Meccan" },
            { id: 17, name: "Al-Isra", verses: 111, arabic: "ÿßŸÑÿ•ÿ≥ÿ±ÿßÿ°", rukus: 12, revelation: "Meccan" },
            { id: 18, name: "Al-Kahf", verses: 110, arabic: "ÿßŸÑŸÉŸáŸÅ", rukus: 12, revelation: "Meccan" },
            { id: 19, name: "Maryam", verses: 98, arabic: "ŸÖÿ±ŸäŸÖ", rukus: 6, revelation: "Meccan" },
            { id: 20, name: "Taha", verses: 135, arabic: "ÿ∑Ÿá", rukus: 8, revelation: "Meccan" },
            { id: 21, name: "Al-Anbiya", verses: 112, arabic: "ÿßŸÑÿ£ŸÜÿ®Ÿäÿßÿ°", rukus: 7, revelation: "Meccan" },
            { id: 22, name: "Al-Hajj", verses: 78, arabic: "ÿßŸÑÿ≠ÿ¨", rukus: 10, revelation: "Medinan" },
            { id: 23, name: "Al-Mu'minun", verses: 118, arabic: "ÿßŸÑŸÖÿ§ŸÖŸÜŸàŸÜ", rukus: 6, revelation: "Meccan" },
            { id: 24, name: "An-Nur", verses: 64, arabic: "ÿßŸÑŸÜŸàÿ±", rukus: 9, revelation: "Medinan" },
            { id: 25, name: "Al-Furqan", verses: 77, arabic: "ÿßŸÑŸÅÿ±ŸÇÿßŸÜ", rukus: 6, revelation: "Meccan" },
            { id: 26, name: "Ash-Shu'ara", verses: 227, arabic: "ÿßŸÑÿ¥ÿπÿ±ÿßÿ°", rukus: 11, revelation: "Meccan" },
            { id: 27, name: "An-Naml", verses: 93, arabic: "ÿßŸÑŸÜŸÖŸÑ", rukus: 7, revelation: "Meccan" },
            { id: 28, name: "Al-Qasas", verses: 88, arabic: "ÿßŸÑŸÇÿµÿµ", rukus: 9, revelation: "Meccan" },
            { id: 29, name: "Al-Ankabut", verses: 69, arabic: "ÿßŸÑÿπŸÜŸÉÿ®Ÿàÿ™", rukus: 7, revelation: "Meccan" },
            { id: 30, name: "Ar-Rum", verses: 60, arabic: "ÿßŸÑÿ±ŸàŸÖ", rukus: 6, revelation: "Meccan" },
            { id: 31, name: "Luqman", verses: 34, arabic: "ŸÑŸÇŸÖÿßŸÜ", rukus: 4, revelation: "Meccan" },
            { id: 32, name: "As-Sajdah", verses: 30, arabic: "ÿßŸÑÿ≥ÿ¨ÿØÿ©", rukus: 3, revelation: "Meccan" },
            { id: 33, name: "Al-Ahzab", verses: 73, arabic: "ÿßŸÑÿ£ÿ≠ÿ≤ÿßÿ®", rukus: 9, revelation: "Medinan" },
            { id: 34, name: "Saba", verses: 54, arabic: "ÿ≥ÿ®ÿ£", rukus: 6, revelation: "Meccan" },
            { id: 35, name: "Fatir", verses: 45, arabic: "ŸÅÿßÿ∑ÿ±", rukus: 5, revelation: "Meccan" },
            { id: 36, name: "Ya-Sin", verses: 83, arabic: "Ÿäÿ≥", rukus: 5, revelation: "Meccan" },
            { id: 37, name: "As-Saffat", verses: 182, arabic: "ÿßŸÑÿµÿßŸÅÿßÿ™", rukus: 5, revelation: "Meccan" },
            { id: 38, name: "Sad", verses: 88, arabic: "ÿµ", rukus: 5, revelation: "Meccan" },
            { id: 39, name: "Az-Zumar", verses: 75, arabic: "ÿßŸÑÿ≤ŸÖÿ±", rukus: 8, revelation: "Meccan" },
            { id: 40, name: "Ghafir", verses: 85, arabic: "ÿ∫ÿßŸÅÿ±", rukus: 9, revelation: "Meccan" },
            { id: 41, name: "Fussilat", verses: 54, arabic: "ŸÅÿµŸÑÿ™", rukus: 6, revelation: "Meccan" },
            { id: 42, name: "Ash-Shura", verses: 53, arabic: "ÿßŸÑÿ¥Ÿàÿ±Ÿâ", rukus: 5, revelation: "Meccan" },
            { id: 43, name: "Az-Zukhruf", verses: 89, arabic: "ÿßŸÑÿ≤ÿÆÿ±ŸÅ", rukus: 7, revelation: "Meccan" },
            { id: 44, name: "Ad-Dukhan", verses: 59, arabic: "ÿßŸÑÿØÿÆÿßŸÜ", rukus: 3, revelation: "Meccan" },
            { id: 45, name: "Al-Jathiyah", verses: 37, arabic: "ÿßŸÑÿ¨ÿßÿ´Ÿäÿ©", rukus: 4, revelation: "Meccan" },
            { id: 46, name: "Al-Ahqaf", verses: 35, arabic: "ÿßŸÑÿ£ÿ≠ŸÇÿßŸÅ", rukus: 4, revelation: "Meccan" },
            { id: 47, name: "Muhammad", verses: 38, arabic: "ŸÖÿ≠ŸÖÿØ", rukus: 4, revelation: "Medinan" },
            { id: 48, name: "Al-Fath", verses: 29, arabic: "ÿßŸÑŸÅÿ™ÿ≠", rukus: 4, revelation: "Medinan" },
            { id: 49, name: "Al-Hujurat", verses: 18, arabic: "ÿßŸÑÿ≠ÿ¨ÿ±ÿßÿ™", rukus: 2, revelation: "Medinan" },
            { id: 50, name: "Qaf", verses: 45, arabic: "ŸÇ", rukus: 3, revelation: "Meccan" },
            { id: 51, name: "Adh-Dhariyat", verses: 60, arabic: "ÿßŸÑÿ∞ÿßÿ±Ÿäÿßÿ™", rukus: 3, revelation: "Meccan" },
            { id: 52, name: "At-Tur", verses: 49, arabic: "ÿßŸÑÿ∑Ÿàÿ±", rukus: 2, revelation: "Meccan" },
            { id: 53, name: "An-Najm", verses: 62, arabic: "ÿßŸÑŸÜÿ¨ŸÖ", rukus: 3, revelation: "Meccan" },
            { id: 54, name: "Al-Qamar", verses: 55, arabic: "ÿßŸÑŸÇŸÖÿ±", rukus: 3, revelation: "Meccan" },
            { id: 55, name: "Ar-Rahman", verses: 78, arabic: "ÿßŸÑÿ±ÿ≠ŸÖŸÜ", rukus: 3, revelation: "Medinan" },
            { id: 56, name: "Al-Waqi'ah", verses: 96, arabic: "ÿßŸÑŸàÿßŸÇÿπÿ©", rukus: 3, revelation: "Meccan" },
            { id: 57, name: "Al-Hadid", verses: 29, arabic: "ÿßŸÑÿ≠ÿØŸäÿØ", rukus: 4, revelation: "Medinan" },
            { id: 58, name: "Al-Mujadila", verses: 22, arabic: "ÿßŸÑŸÖÿ¨ÿßÿØŸÑÿ©", rukus: 3, revelation: "Medinan" },
            { id: 59, name: "Al-Hashr", verses: 24, arabic: "ÿßŸÑÿ≠ÿ¥ÿ±", rukus: 3, revelation: "Medinan" },
            { id: 60, name: "Al-Mumtahanah", verses: 13, arabic: "ÿßŸÑŸÖŸÖÿ™ÿ≠ŸÜÿ©", rukus: 2, revelation: "Medinan" },
            { id: 61, name: "As-Saff", verses: 14, arabic: "ÿßŸÑÿµŸÅ", rukus: 2, revelation: "Medinan" },
            { id: 62, name: "Al-Jumu'ah", verses: 11, arabic: "ÿßŸÑÿ¨ŸÖÿπÿ©", rukus: 2, revelation: "Medinan" },
            { id: 63, name: "Al-Munafiqun", verses: 11, arabic: "ÿßŸÑŸÖŸÜÿßŸÅŸÇŸàŸÜ", rukus: 2, revelation: "Medinan" },
            { id: 64, name: "At-Taghabun", verses: 18, arabic: "ÿßŸÑÿ™ÿ∫ÿßÿ®ŸÜ", rukus: 2, revelation: "Medinan" },
            { id: 65, name: "At-Talaq", verses: 12, arabic: "ÿßŸÑÿ∑ŸÑÿßŸÇ", rukus: 2, revelation: "Medinan" },
            { id: 66, name: "At-Tahrim", verses: 12, arabic: "ÿßŸÑÿ™ÿ≠ÿ±ŸäŸÖ", rukus: 2, revelation: "Medinan" },
            { id: 67, name: "Al-Mulk", verses: 30, arabic: "ÿßŸÑŸÖŸÑŸÉ", rukus: 2, revelation: "Meccan" },
            { id: 68, name: "Al-Qalam", verses: 52, arabic: "ÿßŸÑŸÇŸÑŸÖ", rukus: 2, revelation: "Meccan" },
            { id: 69, name: "Al-Haqqah", verses: 52, arabic: "ÿßŸÑÿ≠ÿßŸÇÿ©", rukus: 2, revelation: "Meccan" },
            { id: 70, name: "Al-Ma'arij", verses: 44, arabic: "ÿßŸÑŸÖÿπÿßÿ±ÿ¨", rukus: 2, revelation: "Meccan" },
            { id: 71, name: "Nuh", verses: 28, arabic: "ŸÜŸàÿ≠", rukus: 2, revelation: "Meccan" },
            { id: 72, name: "Al-Jinn", verses: 28, arabic: "ÿßŸÑÿ¨ŸÜ", rukus: 2, revelation: "Meccan" },
            { id: 73, name: "Al-Muzzammil", verses: 20, arabic: "ÿßŸÑŸÖÿ≤ŸÖŸÑ", rukus: 2, revelation: "Meccan" },
            { id: 74, name: "Al-Muddathir", verses: 56, arabic: "ÿßŸÑŸÖÿØÿ´ÿ±", rukus: 2, revelation: "Meccan" },
            { id: 75, name: "Al-Qiyamah", verses: 40, arabic: "ÿßŸÑŸÇŸäÿßŸÖÿ©", rukus: 2, revelation: "Meccan" },
            { id: 76, name: "Al-Insan", verses: 31, arabic: "ÿßŸÑÿ•ŸÜÿ≥ÿßŸÜ", rukus: 2, revelation: "Medinan" },
            { id: 77, name: "Al-Mursalat", verses: 50, arabic: "ÿßŸÑŸÖÿ±ÿ≥ŸÑÿßÿ™", rukus: 2, revelation: "Meccan" },
            { id: 78, name: "An-Naba", verses: 40, arabic: "ÿßŸÑŸÜÿ®ÿ£", rukus: 2, revelation: "Meccan" },
            { id: 79, name: "An-Nazi'at", verses: 46, arabic: "ÿßŸÑŸÜÿßÿ≤ÿπÿßÿ™", rukus: 2, revelation: "Meccan" },
            { id: 80, name: "Abasa", verses: 42, arabic: "ÿπÿ®ÿ≥", rukus: 1, revelation: "Meccan" },
            { id: 81, name: "At-Takwir", verses: 29, arabic: "ÿßŸÑÿ™ŸÉŸàŸäÿ±", rukus: 1, revelation: "Meccan" },
            { id: 82, name: "Al-Infitar", verses: 19, arabic: "ÿßŸÑÿ•ŸÜŸÅÿ∑ÿßÿ±", rukus: 1, revelation: "Meccan" },
            { id: 83, name: "Al-Mutaffifin", verses: 36, arabic: "ÿßŸÑŸÖÿ∑ŸÅŸÅŸäŸÜ", rukus: 1, revelation: "Meccan" },
            { id: 84, name: "Al-Inshiqaq", verses: 25, arabic: "ÿßŸÑÿßŸÜÿ¥ŸÇÿßŸÇ", rukus: 1, revelation: "Meccan" },
            { id: 85, name: "Al-Buruj", verses: 22, arabic: "ÿßŸÑÿ®ÿ±Ÿàÿ¨", rukus: 1, revelation: "Meccan" },
            { id: 86, name: "At-Tariq", verses: 17, arabic: "ÿßŸÑÿ∑ÿßÿ±ŸÇ", rukus: 1, revelation: "Meccan" },
            { id: 87, name: "Al-A'la", verses: 19, arabic: "ÿßŸÑÿ£ÿπŸÑŸâ", rukus: 1, revelation: "Meccan" },
            { id: 88, name: "Al-Ghashiyah", verses: 26, arabic: "ÿßŸÑÿ∫ÿßÿ¥Ÿäÿ©", rukus: 1, revelation: "Meccan" },
            { id: 89, name: "Al-Fajr", verses: 30, arabic: "ÿßŸÑŸÅÿ¨ÿ±", rukus: 1, revelation: "Meccan" },
            { id: 90, name: "Al-Balad", verses: 20, arabic: "ÿßŸÑÿ®ŸÑÿØ", rukus: 1, revelation: "Meccan" },
            { id: 91, name: "Ash-Shams", verses: 15, arabic: "ÿßŸÑÿ¥ŸÖÿ≥", rukus: 1, revelation: "Meccan" },
            { id: 92, name: "Al-Layl", verses: 21, arabic: "ÿßŸÑŸÑŸäŸÑ", rukus: 1, revelation: "Meccan" },
            { id: 93, name: "Ad-Duha", verses: 11, arabic: "ÿßŸÑÿ∂ÿ≠Ÿâ", rukus: 1, revelation: "Meccan" },
            { id: 94, name: "Ash-Sharh", verses: 8, arabic: "ÿßŸÑÿ¥ÿ±ÿ≠", rukus: 1, revelation: "Meccan" },
            { id: 95, name: "At-Tin", verses: 8, arabic: "ÿßŸÑÿ™ŸäŸÜ", rukus: 1, revelation: "Meccan" },
            { id: 96, name: "Al-Alaq", verses: 19, arabic: "ÿßŸÑÿπŸÑŸÇ", rukus: 1, revelation: "Meccan" },
            { id: 97, name: "Al-Qadr", verses: 5, arabic: "ÿßŸÑŸÇÿØÿ±", rukus: 1, revelation: "Meccan" },
            { id: 98, name: "Al-Bayyinah", verses: 8, arabic: "ÿßŸÑÿ®ŸäŸÜÿ©", rukus: 1, revelation: "Medinan" },
            { id: 99, name: "Az-Zalzalah", verses: 8, arabic: "ÿßŸÑÿ≤ŸÑÿ≤ŸÑÿ©", rukus: 1, revelation: "Medinan" },
            { id: 100, name: "Al-Adiyat", verses: 11, arabic: "ÿßŸÑÿπÿßÿØŸäÿßÿ™", rukus: 1, revelation: "Meccan" },
            { id: 101, name: "Al-Qari'ah", verses: 11, arabic: "ÿßŸÑŸÇÿßÿ±ÿπÿ©", rukus: 1, revelation: "Meccan" },
            { id: 102, name: "At-Takathur", verses: 8, arabic: "ÿßŸÑÿ™ŸÉÿßÿ´ÿ±", rukus: 1, revelation: "Meccan" },
            { id: 103, name: "Al-Asr", verses: 3, arabic: "ÿßŸÑÿπÿµÿ±", rukus: 1, revelation: "Meccan" },
            { id: 104, name: "Al-Humazah", verses: 9, arabic: "ÿßŸÑŸáŸÖÿ≤ÿ©", rukus: 1, revelation: "Meccan" },
            { id: 105, name: "Al-Fil", verses: 5, arabic: "ÿßŸÑŸÅŸäŸÑ", rukus: 1, revelation: "Meccan" },
            { id: 106, name: "Quraysh", verses: 4, arabic: "ŸÇÿ±Ÿäÿ¥", rukus: 1, revelation: "Meccan" },
            { id: 107, name: "Al-Ma'un", verses: 7, arabic: "ÿßŸÑŸÖÿßÿπŸàŸÜ", rukus: 1, revelation: "Meccan" },
            { id: 108, name: "Al-Kawthar", verses: 3, arabic: "ÿßŸÑŸÉŸàÿ´ÿ±", rukus: 1, revelation: "Meccan" },
            { id: 109, name: "Al-Kafirun", verses: 6, arabic: "ÿßŸÑŸÉÿßŸÅÿ±ŸàŸÜ", rukus: 1, revelation: "Meccan" },
            { id: 110, name: "An-Nasr", verses: 3, arabic: "ÿßŸÑŸÜÿµÿ±", rukus: 1, revelation: "Medinan" },
            { id: 111, name: "Al-Masad", verses: 5, arabic: "ÿßŸÑŸÖÿ≥ÿØ", rukus: 1, revelation: "Meccan" },
            { id: 112, name: "Al-Ikhlas", verses: 4, arabic: "ÿßŸÑÿ•ÿÆŸÑÿßÿµ", rukus: 1, revelation: "Meccan" },
            { id: 113, name: "Al-Falaq", verses: 5, arabic: "ÿßŸÑŸÅŸÑŸÇ", rukus: 1, revelation: "Meccan" },
            { id: 114, name: "An-Nas", verses: 6, arabic: "ÿßŸÑŸÜÿßÿ≥", rukus: 1, revelation: "Meccan" }
        ];

        function QRMApp() {
            // === FIXED: Working Navigation ===
            const [currentView, setCurrentView] = useState('welcome');
            const [selectedSurah, setSelectedSurah] = useState(ALL_SURAHS[0]);
            const [selectedVerse, setSelectedVerse] = useState(1);
            const [selectedRuku, setSelectedRuku] = useState(1);
            const [selectedJuz, setSelectedJuz] = useState(1);
            const [showWelcome, setShowWelcome] = useState(true);

            // === FIXED: Auto-dismiss Welcome ===
            useEffect(() => {
                if (showWelcome) {
                    const timer = setTimeout(() => {
                        setShowWelcome(false);
                        setCurrentView('home');
                    }, 6000);
                    return () => clearTimeout(timer);
                }
            }, [showWelcome]);

            // === FIXED: Juz and Ruku Logic ===
            const getCurrentJuz = (surahId, verseId) => {
                for (let juz of JUZ_DATA) {
                    if (surahId >= juz.start.surah && surahId <= juz.end.surah) {
                        if (surahId === juz.start.surah && verseId < juz.start.verse) continue;
                        if (surahId === juz.end.surah && verseId > juz.end.verse) continue;
                        return juz;
                    }
                }
                return JUZ_DATA[0];
            };

            const handleSurahChange = (surahId) => {
                const surah = ALL_SURAHS.find(s => s.id === parseInt(surahId));
                setSelectedSurah(surah);
                setSelectedVerse(1);
                setSelectedRuku(1);
                
                // Auto-update Juz based on surah
                const currentJuz = getCurrentJuz(surah.id, 1);
                setSelectedJuz(currentJuz.juz);
            };

            const handleRukuChange = (rukuNumber) => {
                setSelectedRuku(rukuNumber);
                
                // If ruku exceeds current surah, find next surah
                if (rukuNumber > selectedSurah.rukus) {
                    const nextSurah = ALL_SURAHS.find(s => s.id === selectedSurah.id + 1);
                    if (nextSurah) {
                        setSelectedSurah(nextSurah);
                        setSelectedRuku(1);
                        setSelectedVerse(1);
                        
                        // Update Juz for new surah
                        const currentJuz = getCurrentJuz(nextSurah.id, 1);
                        setSelectedJuz(currentJuz.juz);
                    }
                } else {
                    // Calculate verse for this ruku within current surah
                    const versesPerRuku = Math.ceil(selectedSurah.verses / selectedSurah.rukus);
                    const startVerse = Math.min(((rukuNumber - 1) * versesPerRuku) + 1, selectedSurah.verses);
                    setSelectedVerse(startVerse);
                }
            };

            const handleJuzChange = (juzNumber) => {
                const juz = JUZ_DATA.find(j => j.juz === parseInt(juzNumber));
                if (juz) {
                    setSelectedJuz(juz.juz);
                    const startSurah = ALL_SURAHS.find(s => s.id === juz.start.surah);
                    if (startSurah) {
                        setSelectedSurah(startSurah);
                        setSelectedVerse(juz.start.verse);
                        setSelectedRuku(1);
                    }
                }
            };

            // === COMPONENTS ===
            const WelcomeScreen = () => (
                <div className="welcome-screen text-white text-center">
                    <div className="font-arabic-title text-4xl mb-4">Ÿ±ŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè ÿπŸéŸÑŸéŸäŸíŸÉŸèŸÖŸí</div>
                    <h2 className="text-xl font-bold mb-2">As-salamu 'Alaykum</h2>
                    <p className="text-lg mb-4">Your Iman companion for Qur'an memorization and Surah recognition</p>
                    <p className="text-xs opacity-70 absolute bottom-8 left-0 right-0 text-center">
                        ¬© 2024 Faried Manan QRM Pro
                    </p>
                </div>
            );

            const HomePage = () => (
                <div className="min-h-screen flex flex-col bg-gradient-to-br from-emerald-50 to-teal-100">
                    {/* Header */}
                    <div className="gradient-green text-white text-center py-6">
                        <h1 className="font-arabic-title text-3xl mb-1">ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ</h1>
                        <p className="text-emerald-100 text-sm">QRM Pro - Iman Powered Qur'an Memorization</p>
                    </div>

                    {/* Main Content - FIXED 8 WORKING BUTTONS */}
                    <div className="flex-1 flex items-center justify-center p-4">
                        <div className="bg-white rounded-2xl shadow-lg p-6 w-full max-w-sm">
                            <div className="grid grid-cols-2 gap-3">
                                <button onClick={() => setCurrentView('learn')} className="bg-emerald-500 text-white p-3 rounded-xl font-semibold hover:bg-emerald-600 transition-all text-sm">
                                    üìñ Read Quran
                                </button>
                                <button onClick={() => setCurrentView('learn')} className="bg-amber-500 text-white p-3 rounded-xl font-semibold hover:bg-amber-600 transition-all text-sm">
                                    üé§ Recite & Learn
                                </button>
                                <button onClick={() => setCurrentView('search')} className="bg-blue-500 text-white p-3 rounded-xl font-semibold hover:bg-blue-600 transition-all text-sm">
                                    üîç Search
                                </button>
                                <button onClick={() => setCurrentView('learn')} className="bg-purple-500 text-white p-3 rounded-xl font-semibold hover:bg-purple-600 transition-all text-sm">
                                    üéµ Surah Recognition
                                </button>
                                <button onClick={() => setCurrentView('learn')} className="bg-indigo-500 text-white p-3 rounded-xl font-semibold hover:bg-indigo-600 transition-all text-sm">
                                    üí´ Memorize
                                </button>
                                <button onClick={() => setCurrentView('progress')} className="bg-orange-500 text-white p-3 rounded-xl font-semibold hover:bg-orange-600 transition-all text-sm">
                                    üìä Progress
                                </button>
                                <button onClick={() => setCurrentView('learn')} className="bg-teal-500 text-white p-3 rounded-xl font-semibold hover:bg-teal-600 transition-all text-sm">
                                    üìö Tafseer
                                </button>
                                <button onClick={() => setCurrentView('settings')} className="bg-gray-500 text-white p-3 rounded-xl font-semibold hover:bg-gray-600 transition-all text-sm">
                                    ‚öôÔ∏è Settings
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const LearnPage = () => {
                const [activeTab, setActiveTab] = useState('learn');
                const currentJuz = getCurrentJuz(selectedSurah.id, selectedVerse);

                return (
                    <div className="min-h-screen bg-gray-50">
                        {/* Header */}
                        <div className="gradient-green text-white">
                            <div className="px-4 py-4">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <h1 className="text-lg font-bold">QRM Pro</h1>
                                        <p className="text-emerald-100 text-xs">Surah Recognition & Learning</p>
                                    </div>
                                    <button onClick={() => setCurrentView('home')} className="text-white">‚Üê</button>
                                </div>
                            </div>
                            
                            {/* Tabs */}
                            <div className="bg-white flex">
                                <button onClick={() => setActiveTab('learn')} className={`flex-1 py-2 text-xs font-semibold ${activeTab === 'learn' ? 'border-b-2 border-emerald-600 text-emerald-600' : 'text-gray-500'}`}>
                                    üìñ Learn
                                </button>
                                <button onClick={() => setActiveTab('review')} className={`flex-1 py-2 text-xs font-semibold ${activeTab === 'review' ? 'border-b-2 border-emerald-600 text-emerald-600' : 'text-gray-500'}`}>
                                    üîÑ Review
                                </button>
                                <button onClick={() => setActiveTab('progress')} className={`flex-1 py-2 text-xs font-semibold ${activeTab === 'progress' ? 'border-b-2 border-emerald-600 text-emerald-600' : 'text-gray-500'}`}>
                                    üìä Progress
                                </button>
                            </div>
                        </div>

                        <div className="p-4">
                            {activeTab === 'learn' && (
                                <>
                                    {/* Navigation */}
                                    <div className="bg-white rounded-xl shadow-sm p-4 mb-4">
                                        <div className="grid grid-cols-2 gap-3 mb-3">
                                            <div>
                                                <label className="block text-xs font-semibold text-emerald-800 mb-1">Surah</label>
                                                <select
                                                    value={selectedSurah.id}
                                                    onChange={(e) => handleSurahChange(e.target.value)}
                                                    className="w-full p-2 text-sm border border-emerald-300 rounded-lg bg-white"
                                                >
                                                    {ALL_SURAHS.map(surah => (
                                                        <option key={surah.id} value={surah.id}>
                                                            {surah.id}. {surah.name}
                                                        </option>
                                                    ))}
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-semibold text-emerald-800 mb-1">Verse</label>
                                                <select
                                                    value={selectedVerse}
                                                    onChange={(e) => setSelectedVerse(parseInt(e.target.value))}
                                                    className="w-full p-2 text-sm border border-emerald-300 rounded-lg bg-white"
                                                >
                                                    {Array.from({ length: selectedSurah.verses }, (_, i) => i + 1).map(v => (
                                                        <option key={v} value={v}>{v}</option>
                                                    ))}
                                                </select>
                                            </div>
                                        </div>

                                        <div className="grid grid-cols-2 gap-3">
                                            <div>
                                                <label className="block text-xs font-semibold text-emerald-800 mb-1">Ruku</label>
                                                <select
                                                    value={selectedRuku}
                                                    onChange={(e) => handleRukuChange(parseInt(e.target.value))}
                                                    className="w-full p-2 text-sm border border-emerald-300 rounded-lg bg-white"
                                                >
                                                    {Array.from({ length: selectedSurah.rukus }, (_, i) => i + 1).map(r => (
                                                        <option key={r} value={r}>{r}</option>
                                                    ))}
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-semibold text-emerald-800 mb-1">Juz</label>
                                                <select
                                                    value={selectedJuz}
                                                    onChange={(e) => handleJuzChange(e.target.value)}
                                                    className="w-full p-2 text-sm border border-emerald-300 rounded-lg bg-white"
                                                >
                                                    {JUZ_DATA.map(juz => (
                                                        <option key={juz.juz} value={juz.juz}>
                                                            Juz {juz.juz}: {juz.name}
                                                        </option>
                                                    ))}
                                                </select>
                                            </div>
                                        </div>

                                        {/* Current Juz Display */}
                                        <div className="mt-3 p-2 bg-amber-50 rounded-lg border border-amber-200">
                                            <div className="text-xs text-amber-800 text-center">
                                                Currently: <strong>Juz {currentJuz.juz} - {currentJuz.name}</strong>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Example: Surah 17 shows Juz 15 */}
                                    <div className="bg-white rounded-xl shadow-sm p-4 mb-4">
                                        <div className="text-center">
                                            <h3 className="font-bold text-emerald-800">{selectedSurah.name} ({selectedSurah.arabic})</h3>
                                            <p className="text-sm text-gray-600">Verse {selectedVerse} of {selectedSurah.verses}</p>
                                            <p className="text-xs text-amber-600 mt-1">Juz {currentJuz.juz}: {currentJuz.name}</p>
                                        </div>
                                    </div>
                                </>
                            )}
                        </div>
                    </div>
                );
            };

            // Other pages with working navigation
            const SearchPage = () => (
                <div className="min-h-screen bg-gray-50">
                    <div className="gradient-green text-white p-4">
                        <div className="flex items-center gap-4">
                            <button onClick={() => setCurrentView('home')} className="text-white">‚Üê</button>
                            <h1 className="text-lg font-bold">Search Quran</h1>
                        </div>
                    </div>
                    <div className="p-4">
                        <input
                            type="text"
                            placeholder="Search the Quran..."
                            className="w-full p-3 border-2 border-emerald-300 rounded-xl mb-4"
                        />
                        <div className="text-center py-8 text-gray-500">
                            <div className="text-3xl mb-2">üîç</div>
                            <p>Search functionality</p>
                        </div>
                    </div>
                </div>
            );

            const ProgressPage = () => (
                <div className="min-h-screen bg-gray-50">
                    <div className="gradient-green text-white p-4">
                        <div className="flex items-center gap-4">
                            <button onClick={() => setCurrentView('home')} className="text-white">‚Üê</button>
                            <h1 className="text-lg font-bold">Progress</h1>
                        </div>
                    </div>
                    <div className="p-4">
                        <div className="bg-white rounded-xl shadow-sm p-4 text-center">
                            <div className="text-4xl mb-2">üìä</div>
                            <h2 className="text-lg font-bold text-emerald-800 mb-2">Progress Tracking</h2>
                            <p className="text-gray-600 text-sm">Your learning progress will appear here</p>
                        </div>
                    </div>
                </div>
            );

            const SettingsPage = () => (
                <div className="min-h-screen bg-gray-50">
                    <div className="gradient-green text-white p-4">
                        <div className="flex items-center gap-4">
                            <button onClick={() => setCurrentView('home')} className="text-white">‚Üê</button>
                            <h1 className="text-lg font-bold">Settings</h1>
                        </div>
                    </div>
                    <div className="p-4">
                        <div className="bg-white rounded-xl shadow-sm p-4 text-center">
                            <div className="text-4xl mb-2">‚öôÔ∏è</div>
                            <h2 className="text-lg font-bold text-emerald-800 mb-2">Settings</h2>
                            <p className="text-gray-600 text-sm">App settings and preferences</p>
                        </div>
                    </div>
                </div>
            );

            // Main render with PROPER navigation
            return (
                <>
                    {currentView === 'welcome' && <WelcomeScreen />}
                    {currentView === 'home' && <HomePage />}
                    {currentView === 'learn' && <LearnPage />}
                    {currentView === 'search' && <SearchPage />}
                    {currentView === 'progress' && <ProgressPage />}
                    {currentView === 'settings' && <SettingsPage />}
                </>
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('app-root'));
        root.render(<QRMApp />);
    </script>
</body>
</html>
